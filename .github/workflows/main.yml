name: Movie search app cypress test

on: [push]

jobs:
  Cypress-Test:
    runs-on: ubuntu-latest
    needs: install
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: 'search tests - electron'
        uses: cypress-io/github-action@v5.x.x # use the explicit version number
        with:
          install: true
          start: yarn start:ci
          wait-on: 'http://localhost:8080'
          wait-on-timeout: 120
          browser: electron
          record: true
          spec: cypress/e2e/movie-search.tests.cy.js
