name: Movie search app cypress test

on: [push]

jobs:
  Cypress-Test:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Node setup
        uses: actions/setup-node@v2
        with: 
          install: true
          node-version: '17'
      - name: Cypress run
        uses: cypress-io/github-action@v5 # use the explicit version number
        with:
          install: true
          wait-on: 'http://127.0.0.1:8080'
          wait-on-timeout: 120
          headless: true
          config-file: ./cypress.config.js
          browser: electron
          spec: cypress/e2e/movie-search.tests.cy.js
          
